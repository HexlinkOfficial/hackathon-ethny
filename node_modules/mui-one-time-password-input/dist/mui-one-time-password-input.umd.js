(function(o,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("react/jsx-runtime"),require("react"),require("@mui/material/styles"),require("@mui/material/TextField"),require("@mui/material/Box")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","@mui/material/styles","@mui/material/TextField","@mui/material/Box"],d):(o=typeof globalThis<"u"?globalThis:o||self,d(o["mui-one-time-password-input"]={},o.jsxRuntime,o.React,o.styles,o.TextField,o.Box))})(this,function(o,d,h,q,K,b){"use strict";const R={TextFieldStyled:q.styled(K)`
  input {
    text-align: center;
  }
`},$=r=>d.jsx(R.TextFieldStyled,{...r}),y={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",home:"Home",end:"End"};function Y(r,s){return r<=0?[]:Array.from({length:r},s)}function _(r,s,c){return r.map((i,x)=>s===x?c:i)}function O(r){return r.join("")}function V(r,s){return[...r,s]}function H(r,s,c){return r.reduce((i,x,g)=>{const{characters:F,restArrayMerged:m}=i;if(g<c)return{restArrayMerged:m,characters:V(F,x)};const[B,...D]=m;return{restArrayMerged:D,characters:V(F,B||"")}},{restArrayMerged:s,characters:[]}).characters}function L(r){return r.split("")}function k(r){const s=h.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return h.useInsertionEffect(()=>{s.current=r}),h.useCallback((...c)=>s.current?.(...c),[])}const W=()=>!0,v=h.forwardRef((r,s)=>{const{value:c="",length:i=4,autoFocus:x=!1,onChange:g,TextFieldsProps:F,onComplete:m,validateChar:B=W,className:D,onBlur:z,...G}=r,J=h.useRef(c),A=k(m),I=k(e=>({isCompleted:e.length>=i,finalValue:e.slice(0,i)})),{onPaste:Q,onFocus:U,onKeyDown:X,className:Z,placeholder:w,onBlur:ee,...te}=F||{};h.useEffect(()=>{const{isCompleted:e,finalValue:t}=I(J.current);e&&A(t)},[i,A,I]);const f=Y(i,(e,t)=>({character:c[t]||"",inputRef:h.createRef()})),S=e=>f.findIndex(({inputRef:t})=>t.current===e),M=()=>f.map(({character:e})=>e),P=(e,t)=>{const n=_(M(),e,t);return O(n)},ne=e=>{f[e]?.inputRef.current?.focus()},l=e=>{f[e]?.inputRef.current?.select()},j=e=>{e+1!==i&&(f[e+1].character?l(e+1):ne(e+1))},N=(e,t)=>typeof B!="function"?!0:B(e,t),re=e=>{const t=e.target.value[0]||"";let n=t;const u=S(e.target);n&&!N(n,u)&&(n="");const a=P(u,n);g?.(a);const{isCompleted:C,finalValue:p}=I(a);C&&m?.(p),n!==""?a.length-1<u?l(a.length):j(u):t===""&&a.length<=u&&l(u-1)},ae=e=>{e.preventDefault(),e.target.select(),U?.(e)},se=e=>{const t=e.target,n=t.selectionStart,u=t.selectionEnd,a=S(t),C=n===0&&u===0;if(t.value===e.key)e.preventDefault(),j(a);else if(y.backspace===e.key){if(!t.value)e.preventDefault(),l(a-1);else if(C){e.preventDefault();const p=P(a,"");g?.(p),p.length<=a&&l(a-1)}}else y.left===e.key?(e.preventDefault(),l(a-1)):y.right===e.key?(e.preventDefault(),l(a+1)):y.home===e.key?(e.preventDefault(),l(0)):y.end===e.key&&(e.preventDefault(),l(f.length-1));X?.(e)},ue=e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain"),n=e.target,u=f.findIndex(({character:T,inputRef:E})=>T===""||E.current===n),a=M(),C=H(a,L(t),u).map((T,E)=>N(T,E)?T:""),p=O(C);g?.(p);const{isCompleted:le,finalValue:ie}=I(p);le?(m?.(ie),l(i-1)):l(p.length),Q?.(e)},oe=e=>{if(ee?.(e),!f.some(({inputRef:n})=>n.current===e.relatedTarget)){const{isCompleted:n,finalValue:u}=I(c);z?.(u,n)}};return d.jsx(b,{display:"flex",gap:"20px",alignItems:"center",ref:s,className:`MuiOtpInput-Box ${D||""}`,...G,children:f.map(({character:e,inputRef:t},n)=>d.jsx($,{autoFocus:x?n===0:!1,autoComplete:"one-time-code",value:e,inputRef:t,className:`MuiOtpInput-TextField MuiOtpInput-TextField-${n+1} ${Z||""}`,onPaste:ue,onFocus:ae,onChange:re,onKeyDown:se,onBlur:oe,placeholder:typeof w=="function"?w(n):w,...te},n))})});o.MuiOtpInput=v,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
